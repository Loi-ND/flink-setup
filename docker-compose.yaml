services:
  jobmanager:
    image: flink-base-img:v0
    ports:
      - "8081:8081"
    command: ["jobmanager.sh", "start-foreground"]  
    volumes:
        - ./src:/workspace/src
        - ./conf/jobmanager:/workspace/flink/conf

  taskmanager:
    image: flink-base-img:v0
    depends_on:
      - jobmanager
    command: ["taskmanager.sh", "start-foreground"]  
    volumes:
      - ./conf/taskmanager:/workspace/flink/conf
    scale: 3